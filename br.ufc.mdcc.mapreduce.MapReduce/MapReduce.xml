<?xml version="1.0" encoding="ASCII"?>
<component:hashComponent xmlns:component="http://www.example.org/HashComponent">
  <package>br.ufc.mdcc.mapreduce</package>
  <using>br.ufc.mdcc.common</using>
  <using>br.ufc.mdcc.farm</using>
  <using>br.ufc.mdcc.mapreduce</using>
  <kind>Computation</kind>
  <name>MapReduce</name>
  <parameter>
    <identifier>partition_key_type</identifier>
    <variable>OPK</variable>
  </parameter>
  <parameter>
    <identifier>output_value_type</identifier>
    <variable>ORV</variable>
  </parameter>
  <parameter>
    <identifier>input_data_type</identifier>
    <variable>IMAP</variable>
  </parameter>
  <parameter>
    <identifier>partition_function</identifier>
    <variable>Pf</variable>
  </parameter>
  <parameter>
    <identifier>platform_type</identifier>
    <variable>PLATFORM</variable>
  </parameter>
  <parameter>
    <identifier>map_function</identifier>
    <variable>Mf</variable>
  </parameter>
  <parameter>
    <identifier>input_data_key_type</identifier>
    <variable>IMK</variable>
  </parameter>
  <parameter>
    <identifier>intermediate_data_value_type</identifier>
    <variable>OMV</variable>
  </parameter>
  <parameter>
    <identifier>split_function</identifier>
    <variable>Sf</variable>
  </parameter>
  <parameter>
    <identifier>reduce_function</identifier>
    <variable>Rf</variable>
  </parameter>
  <parameter>
    <identifier>intermediate_data_key_type</identifier>
    <variable>OMK</variable>
  </parameter>
  <parameter>
    <identifier>input_data_value_type</identifier>
    <variable>IMV</variable>
  </parameter>
  <innerComponent>
    <kind>Data</kind>
    <identifier>input_data</identifier>
    <type>
      <componentName>IMAP</componentName>
    </type>
    <access>public</access>
    <exportActions>true</exportActions>
  </innerComponent>
  <innerComponent>
    <kind>Data</kind>
    <identifier>output</identifier>
    <type>
      <componentName>br.ufc.mdcc.common.IteratorDictionary</componentName>
      <parameter>
        <identifier>value_type</identifier>
        <variable>OPK</variable>
      </parameter>
      <parameter>
        <identifier>key_type</identifier>
        <variable>OMK</variable>
      </parameter>
    </type>
    <access>private</access>
    <exportActions>true</exportActions>
  </innerComponent>
  <innerComponent>
    <kind>Data</kind>
    <identifier>source_data_type</identifier>
    <type>
      <componentName>br.ufc.mdcc.common.IteratorDictionary</componentName>
      <parameter>
        <identifier>value_type</identifier>
        <variable>OPK</variable>
      </parameter>
      <parameter>
        <identifier>key_type</identifier>
        <variable>OMK</variable>
      </parameter>
    </type>
    <access>private</access>
    <exportActions>true</exportActions>
  </innerComponent>
  <innerComponent>
    <kind>Data</kind>
    <identifier>output_type</identifier>
    <type>
      <componentName>br.ufc.mdcc.common.Iterator</componentName>
      <parameter>
        <identifier>item_type</identifier>
        <variable>ORV</variable>
      </parameter>
    </type>
    <access>private</access>
    <exportActions>true</exportActions>
  </innerComponent>
  <innerComponent>
    <kind>Computation</kind>
    <identifier>farm_map</identifier>
    <type>
      <componentName>br.ufc.mdcc.farm.Farm</componentName>
      <publicInnerComponent>input_data</publicInnerComponent>
      <publicInnerComponent>intermediate_data</publicInnerComponent>
      <parameter>
        <identifier>work</identifier>
        <constraint>
          <componentConstraint>Mapper</componentConstraint>
          <parameter>
            <identifier>output_value_type</identifier>
            <variable>OMV</variable>
          </parameter>
          <parameter>
            <identifier>input_key_type</identifier>
            <variable>IMK</variable>
          </parameter>
          <parameter>
            <identifier>map_function</identifier>
            <variable>Mf</variable>
          </parameter>
          <parameter>
            <identifier>input_value_type</identifier>
            <variable>IMV</variable>
          </parameter>
          <parameter>
            <identifier>input_type</identifier>
            <constraint>
              <componentConstraint>IteratorDictionary</componentConstraint>
              <parameter>
                <identifier>value_type</identifier>
                <variable>IMV</variable>
              </parameter>
              <parameter>
                <identifier>key_type</identifier>
                <variable>IMK</variable>
              </parameter>
            </constraint>
          </parameter>
          <parameter>
            <identifier>output_type</identifier>
            <constraint>
              <componentConstraint>IteratorDictionary</componentConstraint>
              <parameter>
                <identifier>value_type</identifier>
                <variable>OMV</variable>
              </parameter>
              <parameter>
                <identifier>key_type</identifier>
                <variable>OMK</variable>
              </parameter>
            </constraint>
          </parameter>
          <parameter>
            <identifier>output_key_type</identifier>
            <variable>OMK</variable>
          </parameter>
        </constraint>
      </parameter>
      <parameter>
        <identifier>result_type</identifier>
        <constraint>
          <componentConstraint>IteratorDictionary</componentConstraint>
          <parameter>
            <identifier>value_type</identifier>
            <variable>OMV</variable>
          </parameter>
          <parameter>
            <identifier>key_type</identifier>
            <variable>OMK</variable>
          </parameter>
        </constraint>
      </parameter>
      <parameter>
        <identifier>platform</identifier>
        <variable>PLATFORM</variable>
      </parameter>
      <parameter>
        <identifier>job_type</identifier>
        <constraint>
          <componentConstraint>IteratorDictionary</componentConstraint>
          <parameter>
            <identifier>value_type</identifier>
            <variable>IMV</variable>
          </parameter>
          <parameter>
            <identifier>key_type</identifier>
            <variable>IMK</variable>
          </parameter>
        </constraint>
      </parameter>
      <parameter>
        <identifier>scatter_strategy</identifier>
        <constraint>
          <componentConstraint>Splitter</componentConstraint>
          <parameter>
            <identifier>output_key_item_type</identifier>
            <variable>IMK</variable>
          </parameter>
          <parameter>
            <identifier>input_type</identifier>
            <variable>IMAP</variable>
          </parameter>
          <parameter>
            <identifier>output_type</identifier>
            <constraint>
              <componentConstraint>IteratorDictionary</componentConstraint>
              <parameter>
                <identifier>value_type</identifier>
                <variable>IMV</variable>
              </parameter>
              <parameter>
                <identifier>key_type</identifier>
                <variable>IMK</variable>
              </parameter>
            </constraint>
          </parameter>
          <parameter>
            <identifier>output_value_item_type</identifier>
            <variable>IMV</variable>
          </parameter>
        </constraint>
      </parameter>
      <parameter>
        <identifier>input_type</identifier>
        <variable>IMAP</variable>
      </parameter>
      <parameter>
        <identifier>output_type</identifier>
        <constraint>
          <componentConstraint>IteratorDictionary</componentConstraint>
          <parameter>
            <identifier>value_type</identifier>
            <variable>OPK</variable>
          </parameter>
          <parameter>
            <identifier>key_type</identifier>
            <variable>OMK</variable>
          </parameter>
        </constraint>
      </parameter>
      <parameter>
        <identifier>gather_strategy</identifier>
        <constraint>
          <componentConstraint>Partitioner</componentConstraint>
          <parameter>
            <identifier>partition_key_type</identifier>
            <variable>OPK</variable>
          </parameter>
          <parameter>
            <identifier>partition_function</identifier>
            <variable>Pf</variable>
          </parameter>
          <parameter>
            <identifier>input_type</identifier>
            <constraint>
              <componentConstraint>IteratorDictionary</componentConstraint>
              <parameter>
                <identifier>value_type</identifier>
                <variable>OMV</variable>
              </parameter>
              <parameter>
                <identifier>key_type</identifier>
                <variable>OMK</variable>
              </parameter>
            </constraint>
          </parameter>
          <parameter>
            <identifier>data_key_type</identifier>
            <variable>OMK</variable>
          </parameter>
          <parameter>
            <identifier>data_value_type</identifier>
            <variable>OMV</variable>
          </parameter>
          <parameter>
            <identifier>output_type</identifier>
            <constraint>
              <componentConstraint>IteratorDictionary</componentConstraint>
              <parameter>
                <identifier>value_type</identifier>
                <variable>OPK</variable>
              </parameter>
              <parameter>
                <identifier>key_type</identifier>
                <variable>OMK</variable>
              </parameter>
            </constraint>
          </parameter>
        </constraint>
      </parameter>
    </type>
    <access>private</access>
    <exportActions>true</exportActions>
  </innerComponent>
  <innerComponent>
    <kind>Computation</kind>
    <identifier>farm_reduce</identifier>
    <type>
      <componentName>br.ufc.mdcc.farm.Farm</componentName>
      <publicInnerComponent>partition_info</publicInnerComponent>
      <publicInnerComponent>output_data</publicInnerComponent>
      <parameter>
        <identifier>work</identifier>
        <constraint>
          <componentConstraint>Reducer</componentConstraint>
          <parameter>
            <identifier>output_value_type</identifier>
            <variable>ORV</variable>
          </parameter>
          <parameter>
            <identifier>input_key_type</identifier>
            <variable>OMK</variable>
          </parameter>
          <parameter>
            <identifier>input_value_type</identifier>
            <variable>OMV</variable>
          </parameter>
          <parameter>
            <identifier>input_type</identifier>
            <constraint>
              <componentConstraint>IteratorDictionary</componentConstraint>
              <parameter>
                <identifier>value_type</identifier>
                <variable>OMV</variable>
              </parameter>
              <parameter>
                <identifier>key_type</identifier>
                <variable>OMK</variable>
              </parameter>
            </constraint>
          </parameter>
          <parameter>
            <identifier>output_type</identifier>
            <constraint>
              <componentConstraint>Iterator</componentConstraint>
              <parameter>
                <identifier>item_type</identifier>
                <variable>ORV</variable>
              </parameter>
            </constraint>
          </parameter>
          <parameter>
            <identifier>reduce_function</identifier>
            <variable>Rf</variable>
          </parameter>
        </constraint>
      </parameter>
      <parameter>
        <identifier>result_type</identifier>
        <constraint>
          <componentConstraint>Iterator</componentConstraint>
          <parameter>
            <identifier>item_type</identifier>
            <variable>ORV</variable>
          </parameter>
        </constraint>
      </parameter>
      <parameter>
        <identifier>platform</identifier>
        <variable>PLATFORM</variable>
      </parameter>
      <parameter>
        <identifier>job_type</identifier>
        <constraint>
          <componentConstraint>IteratorDictionary</componentConstraint>
          <parameter>
            <identifier>value_type</identifier>
            <variable>OMV</variable>
          </parameter>
          <parameter>
            <identifier>key_type</identifier>
            <variable>OMK</variable>
          </parameter>
        </constraint>
      </parameter>
      <parameter>
        <identifier>scatter_strategy</identifier>
        <constraint>
          <componentConstraint>Shuffler</componentConstraint>
          <parameter>
            <identifier>partition_key_type</identifier>
            <variable>OPK</variable>
          </parameter>
          <parameter>
            <identifier>intermediate_value_type</identifier>
            <variable>OMV</variable>
          </parameter>
          <parameter>
            <identifier>input_type</identifier>
            <constraint>
              <componentConstraint>IteratorDictionary</componentConstraint>
              <parameter>
                <identifier>value_type</identifier>
                <variable>OPK</variable>
              </parameter>
              <parameter>
                <identifier>key_type</identifier>
                <variable>OMK</variable>
              </parameter>
            </constraint>
          </parameter>
          <parameter>
            <identifier>intermediate_key_type</identifier>
            <variable>OMK</variable>
          </parameter>
          <parameter>
            <identifier>output_type</identifier>
            <constraint>
              <componentConstraint>IteratorDictionary</componentConstraint>
              <parameter>
                <identifier>value_type</identifier>
                <variable>OMV</variable>
              </parameter>
              <parameter>
                <identifier>key_type</identifier>
                <variable>OMK</variable>
              </parameter>
            </constraint>
          </parameter>
        </constraint>
      </parameter>
      <parameter>
        <identifier>input_type</identifier>
        <constraint>
          <componentConstraint>IteratorDictionary</componentConstraint>
          <parameter>
            <identifier>value_type</identifier>
            <variable>OPK</variable>
          </parameter>
          <parameter>
            <identifier>key_type</identifier>
            <variable>OMK</variable>
          </parameter>
        </constraint>
      </parameter>
      <parameter>
        <identifier>output_type</identifier>
        <constraint>
          <componentConstraint>Iterator</componentConstraint>
          <parameter>
            <identifier>item_type</identifier>
            <variable>ORV</variable>
          </parameter>
        </constraint>
      </parameter>
      <parameter>
        <identifier>gather_strategy</identifier>
        <constraint>
          <componentConstraint>Collector</componentConstraint>
          <parameter>
            <identifier>input_type</identifier>
            <constraint>
              <componentConstraint>Iterator</componentConstraint>
              <parameter>
                <identifier>item_type</identifier>
                <variable>ORV</variable>
              </parameter>
            </constraint>
          </parameter>
          <parameter>
            <identifier>output_type</identifier>
            <constraint>
              <componentConstraint>Iterator</componentConstraint>
              <parameter>
                <identifier>item_type</identifier>
                <variable>ORV</variable>
              </parameter>
            </constraint>
          </parameter>
          <parameter>
            <identifier>item_type</identifier>
            <variable>ORV</variable>
          </parameter>
        </constraint>
      </parameter>
    </type>
    <access>private</access>
    <exportActions>true</exportActions>
  </innerComponent>
  <unit index="0" name="manager" parallel="false">
    <slice index="0" inner="farm_map" unit="manager"/>
    <slice index="0" inner="farm_reduce" unit="manager"/>
  </unit>
  <unit index="0" name="worker" parallel="true">
    <slice index="0" inner="farm_map" unit="worker"/>
    <slice index="0" inner="farm_reduce" unit="worker"/>
  </unit>
</component:hashComponent>